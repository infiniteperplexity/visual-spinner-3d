<!--Distributed under GNU Public License version 3-->
<!DOCTYPE html>
<html><head>
<style>
body {margin: 0; padding: 0; background-color: #679}
h1, h2, header p {text-align: center}
header {width: 1240px; height: 100px}
header a {position: absolute; top: 5px; left: 5px}
#content {width: 1250px; height: 510px;}
canvas {width: 400px; height: 400px; background-color: #000;}
section {margin: 0; padding: 0}
header, section div {vertical-align: top; padding: 2.5px; border: 5px solid gray; margin: -2.5px; display: inline-block;}
#display {width: 400px; height: 400px; float: left}
#popimport {height: 240px; width: 400px}
#frameN {width: 100px}
</style>


<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Drex's "combo-rific" video modeled in VisualSpinner, by Glenn Wright)</title>
<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="scripts/gl-matrix-min.js"></script>
<script src="scripts/phoria-min.js"></script>
<script src="scripts/requestAnimationFrame.js"></script>
<script src="scripts/visual-spinner-engine.js"></script>
<script src="scripts/visual-spinner-moves.js"></script>
<script src="scripts/visual-spinner-ui.js"></script>
<script>
// set parameters
VS3D.Constants.rescope();

var view2d = false;

var myProps = new Array();
var moves = VS3D.MoveFactory();

function init() {
	canvasSetup();
}

var vs;
function canvasSetup() {
	vs = VS3D.VisualSpinnerWidget();
	vs.embedById("display");
	var greenPoi = vs.addProp();
	var bluePoi = vs.addProp();
	greenPoi.color = "green";
	bluePoi.color = "blue";
	vs.addControls("play","pause","rewind","frame","forward","reset","export");
	//window.addEventListener("keydown", listenForKey, false);


	// set up props
	greenPoi.hand.radius = 1;
	bluePoi.hand.radius = 1;
	greenPoi.rotateHand(-QUARTER);
	greenPoi.rotateProp(-QUARTER);
	greenPoi.translatePivot(0.5, NINE);
	bluePoi.rotateHand(QUARTER);
	bluePoi.rotateProp(QUARTER);
	bluePoi.translatePivot(0.5,THREE)

	greenPoi.addMove(moves.build.flower({duration: 0.25, petals: 2, pivot_angle: NINE, pivot_radius: 0.5}));
	bluePoi.addMove(moves.build.flower({duration: 0.25, petals: 2, pivot_angle: THREE, pivot_radius: 0.5}));

	greenPoi.addMove(moves.build.pendulum({duration: 0.25, extend: 0, pivot_angle: THREE, pivot_radius: 0.5}));
	greenPoi.modifyTail({pivot_stretch: -2});
	bluePoi.addMove(moves.build.pendulum({duration:0.25, extend: 0, pivot_angle: NINE, pivot_radius: 0.5}));
	bluePoi.modifyTail({pivot_stretch: -2});
	greenPoi.addMove(moves.build.pendulum({duration: 0.25, direction: CCW, extend: 0, pivot_angle: TWELVE, pivot_radius: 0}));
	greenPoi.modifyTail({pivot_stretch: 4});
	bluePoi.addMove(moves.build.pendulum({duration:0.25, extend: 0, pivot_angle: SIX, pivot_radius: 0}));
	bluePoi.modifyTail({pivot_stretch: 4});

	greenPoi.addMove(moves.build.flower({duration: 0.5, petals: 1, pivot_angle: NINE, pivot_radius: 0, direction: CCW}));
	bluePoi.addMove(moves.build.flower({duration: 0.5, petals: 1, pivot_angle: THREE, pivot_radius: 0, direction: CCW}));
	greenPoi.modifyTail({pivot_stretch: 2});
	bluePoi.modifyTail({pivot_stretch: 2});
	greenPoi.addMove(moves.build.pendulum({duration: 0.5, spin: ANTISPIN, extend: 0.5, pivot_angle: SIX, pivot_radius: 1}));
	bluePoi.addMove(moves.build.pendulum({duration: 0.5, spin: ANTISPIN, direction: CCW, extend: 0.5, pivot_angle: TWELVE, pivot_radius: 1}));
	greenPoi.modifyTail({hand_stretch: -2});
	bluePoi.modifyTail({hand_stretch: -2});

	greenPoi.addMove(moves.build.generic({duration: 0.5, prop_angle: NINE, hand_angle: SIX, hand_radius: 1, hand_stretch: -4}));
	bluePoi.addMove(moves.build.generic({duration: 0.5, prop_angle: THREE, hand_angle: TWELVE, hand_radius: 1, hand_stretch: -4}));

	greenPoi.addMove(moves.build.pendulum({duration: 0.5, spin: ANTISPIN, direction: CCW, extend: 0, pivot_angle: TWELVE, pivot_radius: 1}));
	bluePoi.addMove(moves.build.pendulum({duration: 0.5, spin: ANTISPIN, direction: CCW, extend: 0, pivot_angle: SIX, pivot_radius: 1}));
	greenPoi.modifyTail({hand_stretch: 2});
	bluePoi.modifyTail({hand_stretch: 2});
	greenPoi.addMove(moves.build.flower({petals: 0.5, pivot_angle: NINE, pivot_radius: 0.5}));
	bluePoi.addMove(moves.build.flower({petals: 0.5, direction: CCW, pivot_angle: THREE, pivot_radius: 0.5}));
	// Finally, the madness is over!
	vs.ready();
}


function listenForKey(e) {
	if (e.keyCode===37) {
		vs.rewind(12);
	} else if (e.keyCode===39) {
		vs.forward(12);
	}
}


</script>
</head>
<body onload="init();">
<header>
	<a href='http://infiniteperplexity.github.io/visual-spinner-3d/'>See more at the VisualSpinner3D main site.</a>
	<h1>Welcome to VisualSpinner3D. </h1>
	<p>(we have successfully digitized Drex.)</p>
</header>
	<section>
<div id="display">
</div>
<div id="vid">
	<iframe width="854" height="480" src="https://www.youtube.com/embed/g_M8FNw94xQ" frameborder="0" allowfullscreen></iframe>
</div>

</section>
</body></html>
