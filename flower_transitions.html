<!--Distributed under GNU Public License version 3-->
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Four-Petal Anti-Spin Flower Transitions Demo (using the VisualSpinner Engine)</title>
<script src="scripts/vs3d.js"></script>
<script src="scripts/vs3d-moves.js"></script>
<script src="scripts/three.min.js"></script>
<script src="scripts/vs3d-render.js"></script>
<script>
// set parameters
const {LEFT, RIGHT} = VS3D;
let renderer, player;
function init() {
	renderer = new VS3D.ThreeRenderer(document.getElementById("player"),800,400);
	player = new VS3D.Player();
	player.update = function(positions) {
		renderer.render(this.props, positions);
	}

	let red = player.addProp(new VS3D.Prop(), {color: "red", nudge: 0.05});
	let blue = player.addProp(new VS3D.Prop(), {color: "blue", nudge: 0.0});
	let green = player.addProp(new VS3D.Prop(), {color: "green", nudge: 0.05});
	let yellow = player.addProp(new VS3D.Prop(), {color: "yellow", nudge: 0.0});
	red.setBodyRadius(3);
	red.setBodyAngle(LEFT);
	blue.setBodyRadius(3);
	blue.setBodyAngle(LEFT);
	red.setHandAngle(RIGHT);
	red.setHeadAngle(RIGHT);
	blue.setHandAngle(RIGHT);
	blue.setHeadAngle(RIGHT);
	green.setBodyRadius(3);
	green.setBodyAngle(RIGHT);
	yellow.setBodyRadius(3);
	yellow.setBodyAngle(RIGHT);
	green.setHandAngle(RIGHT);
	green.setHeadAngle(RIGHT);
	yellow.setHandAngle(RIGHT);
	yellow.setHeadAngle(RIGHT);

	for (let i=0; i<8; i++) {
		let antispin = {recipe: "flower", spin: -1, beats: ((i===4) ? 4 : 5)};
		red.moves.push({...antispin, direction: 1});
		blue.moves.push({...antispin, direction: 1-(i%2)*2});
		green.moves.push({...antispin, direction: -1});
		yellow.moves.push({...antispin, direction: (i%2)*2-1});
	}
	player.play();
}
</script>
</head><body onload="init();">
<a href='http://infiniteperplexity.github.io/visual-spinner-3d/'>See more at the VisualSpinner3D main site.</a>
<div id="player"></div>
<p>Using the VisualSpinner Engine, someone with basic programming knowledge can easily create complex patterns.</p>
<p>Here is the code that drives the entire pattern:</p>
<code>
for (let i=0; i&lt;8; i++) {<br>
&nbsp;&nbsp;let antispin = {recipe: "flower", spin: -1, beats: ((i===4) ? 4 : 5)};<br>
&nbsp;&nbsp;red.moves.push({...antispin, direction: 1});<br>
&nbsp;&nbsp;blue.moves.push({...antispin, direction: 1-(i%2)*2});<br>
&nbsp;&nbsp;green.moves.push({...antispin, direction: -1});<br>
&nbsp;&nbsp;yellow.moves.push({...antispin, direction: (i%2)*2-1});<br>
}
</code>
</body></html>
